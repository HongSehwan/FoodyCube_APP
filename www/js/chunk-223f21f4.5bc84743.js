(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-223f21f4"],{"7aef":function(t,e,a){},b47f:function(t,e,a){"use strict";a("7aef")},dd7d:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("b-card",{staticClass:"mb-4"},[e("h1",{staticClass:"sub-title"},[t._v("알공급 신청")]),e("EggSupplyRecordModal",{on:{tableModifyFunc:t.onModify}}),e("CheckboxWriteboard",{attrs:{contactListForm:t.contactListForm,columns:t.columns,rows:t.rows,btnState:t.btnState,datePickerState:t.datePickerState,btnText:t.writeButton,pageModalId:t.modalId,path:t.pathName,recordInfo:t.listData,modifyCheckMode:t.changeModifyCheck}})],1)],1)},s=[],l=a("5530"),r=a("2f62"),c=a("2fc6"),n=a("8468"),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("div",{staticClass:"row"},[e("b-col",{attrs:{md:"6"}},[e("b-modal",{ref:"modal-eggSupplyRecord",attrs:{id:"modal-eggSupplyRecord",title:"알공급 신청"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){return Object(n["a"])(a),[e("b-row",[e("div",{staticClass:"col modal-btn-list text-right"},[e("DefaultButton",{attrs:{btnText:t.successBtn,buttonColorProps:t.successBtnColor,buttonFunc:t.onRegister}}),e("DefaultButton",{attrs:{block:"",btnText:t.cancelBtn,buttonColorProps:t.cancelBtnColor,modalOpen:t.showModal,modalClose:t.hideModal,modalName:t.modalId}})],1)])]}}])},[e("b-row",[e("b-col",{staticClass:"mb-4",attrs:{md:"12"}},[e("h4",{staticClass:"modal-sub-tit text-primary mb-3"},[t._v("총 "+t._s(t.tbselectdata.length)+"건")]),e("b-table",{staticClass:"content modal-table writeboardList",attrs:{fixed:"",fields:t.fields,items:t.tbselectdata,selectable:""},on:{"row-clicked":t.onRowClicked}},[e("template",{slot:"row-details"},[e("b-table",{staticClass:"modal-table-detail",attrs:{fixed:"",stacked:"",fields:t.detailFields,items:t.tbdetaildata}})],1)],2)],1)],1),e("b-row",[e("b-col",{staticClass:"mb-3",attrs:{md:"12"}},[e("h4",{staticClass:"modal-sub-tit"},[t._v("비용 상세정보")])]),e("b-col",{staticClass:"text-14",attrs:{md:"12"}},[e("b-row",{staticClass:"mb-2"},[e("b-col",{staticClass:"text-gray-800"},[t._v("무게(g)")]),e("b-col",{staticClass:"text-right"},[t._v(t._s(t.sumWeight))])],1),e("b-row",{staticClass:"mb-2"},[e("b-col",{staticClass:"text-gray-800"},[t._v("가격(원)")]),e("b-col",{staticClass:"text-right"},[t._v(t._s(t.sumPrice))])],1),e("b-row",{staticClass:"mb-2"},[e("b-col",{staticClass:"text-gray-800"},[t._v("운송비(원)")]),e("b-col",{staticClass:"text-right"},[t._v(t._s(t.sumShippingFee))])],1),e("b-row",[e("b-col",{staticClass:"text-gray-800"},[e("b",[t._v("총합계(원)")])]),e("b-col",{staticClass:"text-right"},[e("b",[t._v(t._s(t.sumPrice+t.sumShippingFee))])])],1)],1)],1),e("hr",{staticClass:"hr-solid"}),e("b-row",[e("b-col",{staticClass:"mb-2",attrs:{md:"12"}},[e("h4",{staticClass:"modal-sub-tit"},[t._v("신청 정보")])]),e("b-col",{staticClass:"form-group mb-2",attrs:{md:"12"}},[e("div",{staticClass:"col-form-label"},[t._v("업체명")]),e("b-form-input",{attrs:{readonly:"",placeholder:"업체명"},model:{value:t.companyName,callback:function(e){t.companyName=e},expression:"companyName"}})],1),e("b-col",{staticClass:"form-group mb-2",attrs:{md:"6"}},[e("div",{staticClass:"col-form-label"},[t._v("신청일")]),e("V2Datepicker",{attrs:{readOnlySelected:t.readOnlyDate,placeholder_str:t.request_date}})],1),e("b-col",{staticClass:"form-group mb-2",attrs:{md:"6"}},[e("div",{staticClass:"col-form-label"},[t._v("배송요청일자")]),e("V2Datepicker",{on:{v2DateValue:t.reservationDateFunc}})],1),e("b-col",{staticClass:"form-group mb-2",attrs:{md:"6"}},[e("div",{staticClass:"col-form-label"},[t._v("담당자")]),e("b-form-input",{attrs:{readonly:"",placeholder:"담당자"},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),e("b-col",{staticClass:"form-group mb-2",attrs:{md:"6"}},[e("div",{staticClass:"col-form-label"},[t._v("연락처")]),e("b-form-input",{attrs:{readonly:"",placeholder:"연락처"},model:{value:t.phoneNum,callback:function(e){t.phoneNum=e},expression:"phoneNum"}})],1),e("b-col",{staticClass:"form-group mb-2",attrs:{md:"12"}},[e("div",{staticClass:"col-form-label"},[t._v("비고")]),e("b-form-textarea",{attrs:{id:"textarea-no-resize",placeholder:"비고",rows:"3","no-resize":""},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1)],1)],1)],1)])},d=[],u=a("c7eb"),m=a("1da1"),b=a("b85c"),f=(a("99af"),a("4de4"),a("d3b7"),a("d81d"),a("14d9"),a("fe63")),p=a("b9d3"),h=a("cee4"),_=a("c1df"),y=a.n(_);a("ed18").config();var v={data:function(){return{buttonText:"작성",buttonColor:"primary",btnState:!0,successBtn:"신청",successBtnColor:"primary",cancelBtn:"취소",cancelBtnColor:"line-fill-primary",hideModal:!0,showModal:!1,readOnlyDate:!0,modalId:"modal-eggSupplyRecord",request_date:y()().format("YYYY/MM/DD"),companyInfo:[],valueInfo:[],companyName:"",userName:"",phoneNum:"",deviceValue:"",delivery_date:"",comment:"",companyId:"",fields:[{key:"선택",label:""},{key:"부화입식일자",label:"부화입식일자"},{key:"먹이",label:"먹이"},{key:"무게",label:"무게"}],detailFields:["알받이도구 투입일자","알수확일자","생육기간(일)","령수","부화배지종류","가격","운송비","합계"],tbselectdata:[],tbdetaildata:[],rowObj:{"선택":"❯","부화입식일자":"","먹이":"","무게":0,"알받이도구 투입일자":"","알수확일자":"","생육기간(일)":0,"령수":0,"부화배지종류":"","가격":0,"운송비":0,"합계":0},eggRecordInfo:{product_id:"",req_company_id:"",req_delivery_date:"",req_user_id:"",req_comment:"",status_type:"",reg_id:"",token:""}}},created:function(){var t=this;this.userName=JSON.parse(localStorage.getItem("userInfo"))[0].USERLABEL,this.phoneNum=JSON.parse(localStorage.getItem("userInfo"))[0].HP_NO,h["a"].get("".concat("https://foodycubeems.com","/user/company?limit=10000&token=").concat(this.tokenRead)).then((function(e){e.data.message.results&&(t.companyInfo=e.data.message.results.filter((function(t){return t.COMPANYID===JSON.parse(localStorage.getItem("userInfo"))[0].COMPANY_ID})),t.companyName=t.companyInfo[0].COMPANYLABEL,t.companyId=t.companyInfo[0].COMPANYID)})),this.$EventBus.$on("tableFunc",function(t){var e=this;this.deviceValue=[],this.valueInfo=t.map((function(t){return e.eggRecordInfo={product_id:t.PRODUCT_ID,req_company_id:e.companyId,req_delivery_date:"",req_user_id:e.userIdRead,req_comment:"",status_type:"예약완료",reg_id:t.REG_ID,token:e.tokenRead}})),this.deviceValue=t[0].INFO,this.tbselectdata=t.map((function(t){return e.rowObj={"선택":"❯",id:t.PRODUCT_ID,"부화입식일자":t.INCUBATION_LPSIK_DATE?t.INCUBATION_LPSIK_DATE.split(" ")[0]:null,"먹이":t.FEED_TYPE,"무게":t.EGG_WEIGHT,"알받이도구 투입일자":t.IN_EGG_TOOL_DATE,"알수확일자":t.EGG_HARVEST_DATE,"생육기간(일)":t.GROWTH_DATE,"령수":t.R,"부화배지종류":t.INCUBATION_BADGE_TYPE,"가격":t.PRICE,"운송비":t.DELIVERY_CHARGE,"합계":t.TOTAL_PRICE}}))}.bind(this))},computed:Object(l["a"])(Object(l["a"])({},Object(r["c"])(["tokenRead","userInfoRead","userIdRead"])),{},{sumWeight:function(){var t,e=0,a=Object(b["a"])(this.tbselectdata);try{for(a.s();!(t=a.n()).done;){var o=t.value;e+=o.무게}}catch(s){a.e(s)}finally{a.f()}return e},sumPrice:function(){var t,e=0,a=Object(b["a"])(this.tbselectdata);try{for(a.s();!(t=a.n()).done;){var o=t.value;e+=o.가격}}catch(s){a.e(s)}finally{a.f()}return e},sumShippingFee:function(){var t,e=0,a=Object(b["a"])(this.tbselectdata);try{for(a.s();!(t=a.n()).done;){var o=t.value;e+=o.운송비}}catch(s){a.e(s)}finally{a.f()}return e}}),methods:{makeToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;this.$bvToast.toast(e,{title:" ".concat(t||"default"),variant:t,solid:!0})},onRowClicked:function(t){this.tbdetaildata=[],this.$set(t,"_showDetails",!t._showDetails),this.tbselectdata.filter((function(e){return e.id!==t.id?e._showDetails=!1:e._showDetails=!0})),this.tbdetaildata.push(t)},onRegister:function(){var t=this;return Object(m["a"])(Object(u["a"])().mark((function e(){return Object(u["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.delivery_date?t.deviceValue?t.valueInfo.map(function(){var e=Object(m["a"])(Object(u["a"])().mark((function e(a){return Object(u["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.req_comment=t.comment,a.req_delivery_date=t.delivery_date,e.next=4,h["a"].put("".concat("https://foodycubeems.com","/record/request"),a,{headers:{"Content-Type":"application/json"}}).then((function(e){0===e.data.errorcode?(t.$emit("tableModifyFunc",t.valueInfo),t.$bvModal.hide(t.modalId)):t.makeToast("등록 실패","등록에 실패했습니다.")})).catch((function(e){t.makeToast("등록 실패","등록에 실패했습니다."),console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):t.makeToast("등록 실패","선택된 내역이 없습니다."):t.makeToast("등록 실패","배송요청일자를 선택해주세요.");case 1:case"end":return e.stop()}}),e)})))()},reservationDateFunc:function(t){this.creationVal=y()(t),this.delivery_date=this.creationVal.format("YYYY-MM-DD")}},components:{DefaultButton:f["a"],V2Datepicker:p["default"]}},C=v,g=(a("b47f"),a("2877")),k=Object(g["a"])(C,i,d,!1,null,null,null),I=k.exports;a("ed18").config();var E={metaInfo:{title:"Egg Supply Record List"},data:function(){return{buttonColor:"primary",writeButton:"신청",btnState:!0,datePickerState:!0,modalId:"modal-eggSupplyRecord",currentPage:1,pathName:"record/egg",listData:[],changeModifyCheck:!1,contactListForm:[],columns:[{label:"상품 아이디",key:"PRODUCT_ID",sortable:!0},{label:"선택",key:"selected"},{label:"업체명",key:"COMPANY_LABEL"},{label:"알받이도구투입일자",key:"IN_EGG_TOOL_DATE",formatter:function(t){if(t)return t.split(" ")[0]}},{label:"알수확일자",key:"EGG_HARVEST_DATE",formatter:function(t){if(t)return t.split(" ")[0]}},{label:"부화입식일자",key:"INCUBATION_LPSIK_DATE",formatter:function(t){if(t)return t.split(" ")[0]}},{label:"생육기간(일)",key:"GROWTH_DATE",type:"number"},{label:"령수",key:"R",type:"number"},{label:"먹이",key:"FEED_TYPE"},{label:"부화배지종류",key:"INCUBATION_BADGE_TYPE"},{label:"알무게(g)",key:"EGG_WEIGHT",type:"number"},{label:"가격(원)",key:"PRICE",type:"number"},{label:"운송비(원)",key:"DELIVERY_CHARGE",type:"number"},{label:"합계(원)",key:"TOTAL_PRICE",type:"number"},{label:"진행상태",key:"STATUS_TYPE"}],rows:[]}},methods:{onModify:function(t){this.listData=t,this.changeModifyCheck=!this.changeModifyCheck}},mounted:function(){"sm"==this.$screen.breakpoint||"xs"==this.$screen.breakpoint||"md"==this.$screen.breakpoint?this.isMobile=!0:this.isMobile=!1},computed:Object(l["a"])({},Object(r["c"])(["tokenRead","userIdRead"])),components:{CheckboxWriteboard:c["a"],EggSupplyRecordModal:I}},O=E,D=Object(g["a"])(O,o,s,!1,null,null,null);e["default"]=D.exports}}]);